pipeline{
    agent any 
    stages{
      stage("Source code Pull from Github"){
          steps{
              sh 'echo passed'
      //git branch: 'main', url: 'https://github.com/ShikhaaSharmaa45/100.git'
          }
      }
      stage("Build & Push Docker Image"){
          environment {
              DOCKER_IMAGE = "shikha1818/$JOB_NAME.$BUILD_ID"
              // DOCKERFILE_LOCATION = "Dockerfile"
              DOCKERHUBPASSWORD = "shikha18nov"
          }
          steps{
              script{
                  sh 'docker image build -t ${DOCKER_IMAGE} .'
                  sh 'docker login -u shikha1818 -p ${DOCKERHUBPASSWORD}'
                  sh 'docker image push ${DOCKER_IMAGE}'
                  sh 'docker container run -it -d -p 7000:80 ${DOCKER_IMAGE}'
              }
          }
      }
    
    }
}
